name: Virtual Machine Naming
cases:
- variables:
  - key: prefix
    value: vm
  wantErr: true
- variables:
  - key: prefix
    value: abc
  wantErr: true
- variables:
  - key: prefix
    value: abc-
  wantErr: true
- variables:
  - key: prefix
    value: vvm-
  wantErr: true
- variables:
  - key: prefix
    value: vm-
  wantErr: false
- variables:
  - key: prefix
    value: VM- # Azure policy "like/notLike" operator is case insensitive
  wantErr: false
terraformDir: vm-naming
errorMessage: creating Linux Virtual Machine
errorCode: "Code=\"RequestDisallowedByPolicy\""
